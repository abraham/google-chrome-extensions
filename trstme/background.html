<script>
chrome.extension.onRequest.addListener(
  function(request, sender, sendResponse) {
    var xhr = new XMLHttpRequest();
    var url = "http://api.infochimps.com/soc/net/tw/trstrank.json?screen_name="+ request.screen_name + "&apikey=fGTwVrMevGyrIUUjtc6KqFVcE69";
    xhr.open("GET", url, true);
    xhr.send();
    xhr.onreadystatechange = function() {
      if (xhr.readyState == 4) {
        if (xhr.status == 200)  {
          sendResponse(JSON.parse(xhr.responseText));	  
        } else {
          sendResponse({});
        }
      }
    }
  }
);
</script>